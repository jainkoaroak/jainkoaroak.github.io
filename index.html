<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solana Wallet Balance Checker (SOL & USDC)</title>
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.js"></script>
</head>
<body>
    <h1>Solana Wallet Balance Checker (SOL & USDC)</h1>
    
    <div id="wallet-balances">
        <!-- Wallet balances will be displayed here -->
    </div>

    <script>
        // Solana Wallet Addresses
        const walletAddresses = [
            "8GXLZ45rs12XNDfhotptgPcqCxjXdAWZTQ4oq2FytYNx",
            "6exdeJpSwbwU7kF31PuPaTHQsparyd5P3Etk1gxH6Fn4",
            "D3K4ELAuYxK9HF93LNQ8uJi281xwMtoGG9fTnx7HyQBS"
        ];

        // QuickNode RPC Endpoint
        const QUICKNODE_RPC = 'https://quick-misty-log.solana-mainnet.quiknode.pro/3c93ef8b6bbc5754a03772939cf986d81d45def2';

        // USDC Mint Address
        const USDC_MINT_ADDRESS = 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v';

        // Create a connection to the Solana network via QuickNode
        const connection = new solanaWeb3.Connection(QUICKNODE_RPC, 'confirmed');

        // Function to fetch SOL balance
        async function getSolBalance(publicKey) {
            try {
                const balance = await connection.getBalance(publicKey);
                return balance / solanaWeb3.LAMPORTS_PER_SOL; // Convert lamports to SOL
            } catch (error) {
                console.error(`Error fetching SOL balance for ${publicKey.toString()}:`, error);
                return 'Error';
            }
        }

        // Function to fetch USDC balance
        async function getUsdcBalance(publicKey) {
            try {
                const tokenAccounts = await connection.getParsedTokenAccountsByOwner(
                    publicKey, 
                    { mint: new solanaWeb3.PublicKey(USDC_MINT_ADDRESS) }
                );
                if (tokenAccounts.value.length > 0) {
                    const usdcAccountInfo = tokenAccounts.value[0].account.data.parsed.info;
                    const usdcBalance = usdcAccountInfo.tokenAmount.uiAmount;
                    return usdcBalance;
                } else {
                    return 0; // No USDC token account found
                }
            } catch (error) {
                console.error(`Error fetching USDC balance for ${publicKey.toString()}:`, error);
                return 'Error';
            }
        }

        // Function to display balances for each wallet
        async function displayBalances() {
            const balancesDiv = document.getElementById('wallet-balances');
            balancesDiv.innerHTML = ''; // Clear previous results

            for (const address of walletAddresses) {
                const publicKey = new solanaWeb3.PublicKey(address);

                // Create a div to hold the wallet balances
                const balanceDiv = document.createElement('div');
                balanceDiv.innerHTML = `<strong>Wallet:</strong> ${address} <br> <strong>Fetching balances...</strong>`;
                balancesDiv.appendChild(balanceDiv);

                // Fetch SOL and USDC balances
                const solBalance = await getSolBalance(publicKey);
                const usdcBalance = await getUsdcBalance(publicKey);

                // Update the balanceDiv with the fetched balances
                balanceDiv.innerHTML = `
                    <strong>Wallet:</strong> ${address} <br>
                    <strong>SOL Balance:</strong> ${solBalance} SOL <br>
                    <strong>USDC Balance:</strong> ${usdcBalance} USDC
                `;
            }
        }

        // Fetch and display balances when the page loads
        displayBalances();
    </script>
</body>
</html>
